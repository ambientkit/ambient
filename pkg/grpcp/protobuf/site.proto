syntax = "proto3";
option go_package = "./;protodef";
package ambient.protodef;

import "empty.proto";

service Site {
	// rpc Error(SiteErrorRequest) returns (SiteErrorResponse) {}
	rpc Load(Empty) returns (Empty) {}
    rpc Authorized(SiteAuthorizedRequest) returns (SiteAuthorizedResponse) {}
    rpc UserLogin(SiteUserLoginRequest) returns (Empty) {}
    rpc AuthenticatedUser(SiteAuthenticatedUserRequest) returns (SiteAuthenticatedUserResponse) {}
}

message SiteAuthorizedRequest {
    string grant = 1;
}

message SiteAuthorizedResponse {
    bool authorized = 1;
}

message SiteUserLoginRequest {
    string requestid = 1;
    string username = 2;
}

message SiteAuthenticatedUserRequest {
    string requestid = 1;
}

message SiteAuthenticatedUserResponse {
    string username = 1;
}