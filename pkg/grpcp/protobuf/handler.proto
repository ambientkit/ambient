syntax = "proto3";
option go_package = "./;protodef";
package ambient.protodef;

import "google/protobuf/struct.proto";

// Handler sends the request information from the server to the plugin.
service Handler {
    rpc Handle(HandleRequest) returns (HandleResponse) {}
}

message HandleRequest {
    string requestid = 1;
    string method = 2;
    string path = 3;
    google.protobuf.Struct headers = 4;
    bytes body = 5;
}

message HandleResponse {
    uint32 status = 1;
    string error = 2;
    string response = 3;
    google.protobuf.Struct headers = 4;
}